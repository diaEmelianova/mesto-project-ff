!function(){"use strict";var e={};function t(e){e.classList.add("popup_opened"),document.addEventListener("keydown",o)}function n(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",o)}function o(e){"Escape"===e.key&&n(document.querySelector(".popup_opened"))}e.p="";var r=document.querySelector("#card"),c=document.querySelector(".popup__image"),u=document.querySelector(".popup__figcaption"),l=document.querySelector(".popup_image"),i=function(e,n){var o=r.content.cloneNode(!0),i=o.querySelector(".element__image");return o.querySelector(".element__title").textContent=e,i.alt=e,i.src=n,o.querySelector(".element__like").addEventListener("click",(function(e){e.target.classList.toggle("element__like_active")})),o.querySelector(".element__delete").addEventListener("click",(function(e){e.target.closest(".element").remove()})),i.addEventListener("click",(function(o){c.setAttribute("src",n),c.setAttribute("alt",e),u.textContent=e,t(l)})),o},a=e.p+"57f3414fb1a1ebdbc291.jpg",s=e.p+"7e67ddef14ab04975b01.jpg",p=e.p+"726cb408f596c214b37b.jpg",d=[{name:"Кападокия",link:a},{name:"Камчатка",link:s},{name:"Озеро Прагс",link:e.p+"d81eaf6cfdf975e19971.jpg"},{name:"Высокий лес",link:e.p+"6195a7705f832b8907ff.jpg"},{name:"Гранд каньон",link:p},{name:"Япония",link:e.p+"632e30037c4d748b58ef.jpg"}];function m(e,t,n){e.classList.remove(n.inputErrorClass);var o="#".concat(e.name,"--error"),r=t.querySelector(o);r.classList.remove(n.errorElementClass),r.textContent=""}function f(e,t,n){!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?function(e,t){e.disabled=!1,e.classList.remove(t.disableButtonClass)}(e,n):function(e,t){e.disabled=!0,e.classList.add(t.disableButtonClass)}(e,n)}var _,v=document.querySelector(".profile__edit-button"),y=document.querySelector(".profile-popup"),S=document.querySelector(".profile-popup>.popup__form"),b=document.querySelector("#name"),q=document.querySelector("#job"),E=document.querySelector(".profile__title"),C=document.querySelector(".profile__subtitle"),L=document.querySelectorAll(".popup"),g=document.querySelector(".elements__item"),k=document.querySelector(".profile__add-button"),x=document.querySelector(".popup__add"),A=document.querySelector("#linkNewCard"),h=document.querySelector("#nameNewCard"),j=document.querySelector("#popupFormAddCard"),w={popup__formSelector:".popup__form",buttonSelector:".input__btn",inputSelector:".popup__text",inputErrorClass:"popup__text_invalid",errorElementClass:"popup__error-message_visible",disableButtonClass:"popup__button_disabled"};L.forEach((function(e){e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup_opened")&&n(e),t.target.classList.contains("button-close")&&n(e)}))})),v.addEventListener("click",(function(){b.value=E.textContent,q.value=C.textContent,t(y)})),S.addEventListener("submit",(function(e){e.preventDefault(),E.textContent=b.value,C.textContent=q.value,n(y)})),d.forEach((function(e){g.append(i(e.name,e.link))})),k.addEventListener("click",(function(){return t(x)})),j.addEventListener("submit",(function(e){e.preventDefault(),g.prepend(i(h.value,A.value)),n(x),e.target.reset()})),_=w,Array.from(document.querySelectorAll(_.popup__formSelector)).forEach((function(e){!function(e,t){var n=e.querySelector(t.buttonSelector),o=Array.from(e.querySelectorAll(t.inputSelector));o.forEach((function(r){r.addEventListener("input",(function(){!function(e,t,n){console.log(e.validity.patternMismatch),e.validity.patternMismatch?e.setCustomValidity(e.dataset.errorMessage):e.setCustomValidity(""),e.validity.valid?m(e,t,n):function(e,t,n){e.classList.add(n.inputErrorClass);var o="#".concat(e.name,"--error"),r=t.querySelector(o);r.classList.add(n.errorElementClass),r.textContent=e.validationMessage}(e,t,n)}(r,e,t),f(n,o,t)}))}))}(e,_)})),function(e,t){var n=Array.from(formElement.querySelectorAll(t.inputSelector));f(formElement.querySelector(t.buttonSelector),n,t),n.forEach((function(n){m(n,e,t)}))}(form,w)}();